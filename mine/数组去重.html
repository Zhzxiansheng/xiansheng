<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>数组去重</title>
  </head>
  <body>

  </body>
  <script type="text/javascript">
    // one
    var arr = [1,1,2,3,2,3,4,4];var newArr = Array.from(new Set(arr));console.log(newArr);

    // two
    const s = new Set();

    [2, 3, 5, 4, 5, 2, 2].forEach(x => s.add(x));
    var twoArr = [];
    for (let i of s) {
      twoArr.push(i);
    }
    console.log(twoArr);

    // three  用Es5的话，这中方法是最好的
    // 创建一个新的空数组，创建一个空对象 for循环时，每次取出一个元素与对象进行对比，如果这个元素不重复，则把它存放到结果数组中，同时把这个元素的内容作为对象的一个属性，并赋值为1，存入到第2步建立的对象中
    Array.prototype.unique3 = function(){
     var res = [];
     var json = {};
     for(var i = 0; i < this.length; i++){
      if(!json[this[i]]){
       res.push(this[i]);
       json[this[i]] = 1;
      }
     }
     return res;
    }
    var arr = [112,112,34,'你好',112,112,34,'你好','str','str1'];
    alert(arr.unique3());

    // four
    // 先对数组进行排序，检查原数组中的第i个元素 与 结果数组中的最后一个元素是否相同，因为已经排序，所以重复元素会在相邻位置，如果不相同就元素存放在，结果数组中
    Array.prototype.unique2 = function(){
       this.sort(); //先排序
       var res = [this[0]];
       for(var i = 1; i < this.length; i++){
        if(this[i] !== res[res.length - 1]){
         res.push(this[i]);
        }
       }
       return res;
      }
      var arr = [1, 'a', 'a', 'b', 'd', 'e', 'e', 1, 0]
      alert(arr.unique2());

      // five
      const set = new Set([1, 2, 3, 4, 4]);
      var fiveArr = [...set]; //这就是去重过后的新数组
      console.log([...set]);
      // ... 是扩展运算符 （spread）  作用：1.将一个数组转为用逗号分隔的参数序列。2. 可以代替数组的apply方法

      // ES5 的写法  
        var arr1 = [0, 1, 2];
        var arr2 = [3, 4, 5];
        Array.prototype.push.apply(arr1, arr2);
        // ES6 的写法  
        var arr1 = [0, 1, 2];
        var arr2 = [3, 4, 5];
        arr1.push(...arr2);  



  </script>
</html>
